{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Svg, { Path } from 'react-native-svg';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function StatusAvatar(_ref) {\n  var array = _ref.array,\n      image = _ref.image;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      pd = _useState2[0],\n      setPd = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      path = _useState4[0],\n      setPath = _useState4[1];\n\n  function myArc(cx, cy, radius, max) {\n    var d = \" M \" + (cx + radius) + \" \" + cy;\n    var ang = 0;\n\n    while (ang <= max) {\n      var radians = ang * (Math.PI / 180);\n      var x = cx + Math.cos(radians) * radius;\n      var y = cy + Math.sin(radians) * radius;\n      d += \" L \" + x + \" \" + y;\n      ang++;\n    }\n\n    setPd(d);\n  }\n\n  function init(_x) {\n    return _init.apply(this, arguments);\n  }\n\n  function _init() {\n    _init = _asyncToGenerator(function* (a) {\n      if (array.length > 0) {\n        myArc(35, 35, 30, parseInt(360 / array.length) == 360 ? 360 : parseInt(360 / array.length) - 8);\n        var arr = [];\n        var rot = 270;\n        yield array.map(function (i) {\n          arr.push(_jsx(View, {\n            style: {\n              position: 'absolute'\n            },\n            children: _jsx(Svg, {\n              width: \"70\",\n              height: \"70\",\n              children: _jsx(Path, {\n                d: pd,\n                fill: \"none\",\n                stroke: i[1] == 0 ? \"#007dff\" : \"#b7b7b7\",\n                strokeWidth: 2,\n                transform: {\n                  rotation: rot,\n                  originX: 35,\n                  originY: 35\n                }\n              })\n            })\n          }));\n          rot = rot + 360 / array.length;\n          console.log(rot);\n        });\n        setPath(arr);\n      }\n    });\n    return _init.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    init(array);\n  }, [array, pd]);\n  return _jsxs(_Fragment, {\n    children: [path, _jsx(Image, {\n      source: {\n        uri: image\n      },\n      style: styles.avatar\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  avatar: {\n    height: 54,\n    width: 54,\n    borderRadius: 27,\n    position: 'absolute',\n    marginLeft: 8\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","Svg","Path","StatusAvatar","array","image","pd","setPd","path","setPath","myArc","cx","cy","radius","max","d","ang","radians","Math","PI","x","cos","y","sin","init","a","length","parseInt","arr","rot","map","i","push","position","rotation","originX","originY","console","log","uri","styles","avatar","StyleSheet","create","height","width","borderRadius","marginLeft"],"sources":["/home/samuel/Documentos/projetos/mobile/halk/client/src/components/statusPic.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, StyleSheet,Image } from 'react-native';\nimport Svg, {\n    Path, Rect,\n  } from 'react-native-svg';\n  \n\n// import { Container } from './styles';\n\nexport default function StatusAvatar({array,image}) {\n  \n  const [pd,setPd] = useState(\"\")\n  const [path,setPath] = useState([])\n\n  function myArc(cx, cy, radius, max){       \n    var d = \" M \"+ (cx + radius) + \" \" + cy;\n    let ang = 0;\n    while(ang<=max){\n      var radians = ang * (Math.PI / 180);  // convert degree to radians\n      var x = cx + Math.cos(radians) * radius;  \n      var y = cy + Math.sin(radians) * radius;\n      d += \" L \"+x + \" \" + y;\n      ang++\n    }\n    setPd(d)\n  }     \n\n  async function init(a) {\n    if(array.length > 0){\n      myArc(35, 35, 30, parseInt(360/array.length) == 360?360:parseInt(360/array.length)-8);\n      let arr =[];\n      let rot = 270;\n      await array.map(i=>{\n        arr.push(\n          <View style={{position:'absolute'}}> \n            <Svg width=\"70\" height=\"70\">\n              <Path d={pd} fill=\"none\" stroke={i[1]==0?\"#007dff\":\"#b7b7b7\"} strokeWidth={2} transform={{ rotation: rot, originX: 35, originY: 35 }} />\n            </Svg>\n          </View>\n        )\n        rot = rot + 360/array.length;\n        console.log(rot);\n      });\n      setPath(arr)\n    }\n  }\n\n  useEffect(() => {\n    init(array);\n  }, [array,pd]);\n\n  return (\n    <>\n      {path}\n      <Image source={{uri:image}} style={styles.avatar}/>\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  avatar:{\n    height:54,\n    width:54,\n    borderRadius:27,\n    position:'absolute',\n    marginLeft:8\n  }\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}