{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport io from 'socket.io-client';\nimport * as dotenv from 'dotenv';\nimport * as uuid from 'uuid';\ndotenv.config();\n\nvar Socket = function () {\n  function Socket() {\n    _classCallCheck(this, Socket);\n\n    this.socket = io(\"http://localhost:3000\", {\n      transports: [\"websocket\"]\n    });\n  }\n\n  _createClass(Socket, [{\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator(function* () {\n        return this.socket;\n      });\n\n      function get() {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"sendMessage\",\n    value: function sendMessage(text) {\n      var message = {\n        id: uuid.v4(),\n        text: text,\n        author: {}\n      };\n      this.socket.emit(\"message\", message);\n    }\n  }, {\n    key: \"getMessages\",\n    value: function () {\n      var _getMessages = _asyncToGenerator(function* (room) {\n        if (!room) return;\n        return this.socket.emit(\"getMessages\", function (msgs) {\n          return msgs;\n        });\n      });\n\n      function getMessages(_x) {\n        return _getMessages.apply(this, arguments);\n      }\n\n      return getMessages;\n    }()\n  }, {\n    key: \"sendHalkMessage\",\n    value: function () {\n      var _sendHalkMessage = _asyncToGenerator(function* () {\n        var halkUser = {\n          id: '0',\n          phone: '',\n          profile: {\n            name: 'Halk',\n            username: 'Halk',\n            avatar: require(\"../../assets/images/icon.png\"),\n            bio: 'Official account of the team Halk'\n          }\n        };\n        var halkChat = {\n          id: uuid.v4(),\n          user: halkUser,\n          messages: [{\n            author: halkUser,\n            content: 'Welcome to halk!',\n            createdAt: new Date().getHours() + \":\" + new Date().getMinutes(),\n            id: uuid.v4()\n          }]\n        };\n        return halkChat;\n      });\n\n      function sendHalkMessage() {\n        return _sendHalkMessage.apply(this, arguments);\n      }\n\n      return sendHalkMessage;\n    }()\n  }]);\n\n  return Socket;\n}();\n\nexport { Socket as default };","map":{"version":3,"names":["io","dotenv","uuid","config","Socket","socket","transports","text","message","id","v4","author","emit","room","msgs","halkUser","phone","profile","name","username","avatar","require","bio","halkChat","user","messages","content","createdAt","Date","getHours","getMinutes"],"sources":["/home/samuel/Documentos/projetos/mobile/halk/client/src/utils/socket.ts"],"sourcesContent":["import io from 'socket.io-client';\nimport * as dotenv from 'dotenv';\nimport * as uuid from 'uuid';\ndotenv.config();\n\nexport default class Socket {\n  constructor() {\n    this.socket = io(\"http://localhost:3000\", {\n      transports: [\"websocket\"],\n    });\n  }\n\n  public async get() { return this.socket; }\n\n  public sendMessage(text: string) {\n    const message = {\n      id: uuid.v4(),\n      text,\n      author: {},\n    };\n\n    this.socket.emit(\"message\", message);\n  }\n\n  public async getMessages(room: string) {\n    if(!room) return;\n    return this.socket.emit(\"getMessages\", (msgs) => msgs);\n  }\n\n  public async sendHalkMessage() {\n    const halkUser = {\n      id: '0',\n      phone: '',\n      profile: {\n        name: 'Halk',\n        username: 'Halk',\n        avatar: require('../../assets/images/icon.png'),\n        bio: 'Official account of the team Halk',\n      },\n    };\n\n    const halkChat = {\n      id: uuid.v4(),\n      user: halkUser,\n      messages: [\n        {\n          author: halkUser,\n          content: 'Welcome to halk!',\n          createdAt: `${new Date().getHours()}:${new Date().getMinutes()}`,\n          id: uuid.v4(),\n        },\n      ],\n    };\n\n    return halkChat;\n  }\n}\n"],"mappings":";;;AAAA,OAAOA,EAAP,MAAe,kBAAf;AACA,OAAO,KAAKC,MAAZ,MAAwB,QAAxB;AACA,OAAO,KAAKC,IAAZ,MAAsB,MAAtB;AACAD,MAAM,CAACE,MAAP;;IAEqBC,M;EACnB,kBAAc;IAAA;;IACZ,KAAKC,MAAL,GAAcL,EAAE,CAAC,uBAAD,EAA0B;MACxCM,UAAU,EAAE,CAAC,WAAD;IAD4B,CAA1B,CAAhB;EAGD;;;;;mCAED,aAAmB;QAAE,OAAO,KAAKD,MAAZ;MAAqB,C;;;;;;;;;;WAE1C,qBAAmBE,IAAnB,EAAiC;MAC/B,IAAMC,OAAO,GAAG;QACdC,EAAE,EAAEP,IAAI,CAACQ,EAAL,EADU;QAEdH,IAAI,EAAJA,IAFc;QAGdI,MAAM,EAAE;MAHM,CAAhB;MAMA,KAAKN,MAAL,CAAYO,IAAZ,CAAiB,SAAjB,EAA4BJ,OAA5B;IACD;;;;2CAED,WAAyBK,IAAzB,EAAuC;QACrC,IAAG,CAACA,IAAJ,EAAU;QACV,OAAO,KAAKR,MAAL,CAAYO,IAAZ,CAAiB,aAAjB,EAAgC,UAACE,IAAD;UAAA,OAAUA,IAAV;QAAA,CAAhC,CAAP;MACD,C;;;;;;;;;;;+CAED,aAA+B;QAC7B,IAAMC,QAAQ,GAAG;UACfN,EAAE,EAAE,GADW;UAEfO,KAAK,EAAE,EAFQ;UAGfC,OAAO,EAAE;YACPC,IAAI,EAAE,MADC;YAEPC,QAAQ,EAAE,MAFH;YAGPC,MAAM,EAAEC,OAAO,gCAHR;YAIPC,GAAG,EAAE;UAJE;QAHM,CAAjB;QAWA,IAAMC,QAAQ,GAAG;UACfd,EAAE,EAAEP,IAAI,CAACQ,EAAL,EADW;UAEfc,IAAI,EAAET,QAFS;UAGfU,QAAQ,EAAE,CACR;YACEd,MAAM,EAAEI,QADV;YAEEW,OAAO,EAAE,kBAFX;YAGEC,SAAS,EAAK,IAAIC,IAAJ,GAAWC,QAAX,EAAL,SAA8B,IAAID,IAAJ,GAAWE,UAAX,EAHzC;YAIErB,EAAE,EAAEP,IAAI,CAACQ,EAAL;UAJN,CADQ;QAHK,CAAjB;QAaA,OAAOa,QAAP;MACD,C;;;;;;;;;;;;;SAlDkBnB,M"},"metadata":{},"sourceType":"module"}