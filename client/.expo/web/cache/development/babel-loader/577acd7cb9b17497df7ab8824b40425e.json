{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useContext } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Text, TextInput } from \"../../src/components/Themed\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { createProfile } from \"../../middleware/api\";\nimport { UserContext } from \"../../src/contexts/user\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CreateProfile(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      username = _useState4[0],\n      setUsername = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      avatar = _useState6[0],\n      setAvatar = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      bio = _useState8[0],\n      setBio = _useState8[1];\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user,\n      logged = _useContext.logged,\n      update = _useContext.update;\n\n  function Create() {\n    var newUser = {\n      id: user.id,\n      phone: user.phone,\n      profile: {\n        name: name,\n        username: username,\n        avatar: avatar,\n        bio: bio\n      }\n    };\n    createProfile(newUser).then(function (data) {\n      if (data.err) return alert(\"houve um erro ao criar o seu perfil, tente novamente\");\n\n      if (data.created) {\n        updateUser({\n          logged: true,\n          user: newUser\n        });\n        navigation.navigate(\"Root\");\n      }\n    });\n  }\n\n  function SelectIcon() {\n    return _SelectIcon.apply(this, arguments);\n  }\n\n  function _SelectIcon() {\n    _SelectIcon = _asyncToGenerator(function* () {\n      var result = yield ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsEditing: true,\n        aspect: [4, 3],\n        quality: 1\n      });\n\n      if (!result.cancelled) {\n        setAvatar(result.uri);\n      }\n    });\n    return _SelectIcon.apply(this, arguments);\n  }\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Create your profile\"\n    }), _jsxs(View, {\n      style: styles.primaryDiv,\n      children: [_jsxs(Pressable, {\n        style: styles.iconContainer,\n        onPress: function onPress() {\n          return SelectIcon();\n        },\n        children: [_jsx(Image, {\n          source: avatar ? avatar : require(\"../../assets/images/userIcon.png\"),\n          style: styles.userIcon\n        }), _jsx(Text, {\n          style: {\n            fontSize: 10\n          },\n          children: \"Choose a icon\"\n        })]\n      }), _jsxs(View, {\n        style: styles.inputsContainer,\n        children: [_jsxs(View, {\n          style: styles.inputContainer,\n          children: [_jsx(Text, {\n            style: styles.inputTitle,\n            children: \"Name\"\n          }), _jsx(TextInput, {\n            style: styles.nameInput,\n            onChangeText: function onChangeText(value) {\n              return setName(value);\n            }\n          })]\n        }), _jsxs(View, {\n          style: styles.inputContainer,\n          children: [_jsx(Text, {\n            style: styles.inputTitle,\n            children: \"Username\"\n          }), _jsx(TextInput, {\n            style: styles.nameInput,\n            onChangeText: function onChangeText(value) {\n              return setUsername(value);\n            }\n          })]\n        })]\n      })]\n    }), _jsxs(View, {\n      style: styles.secondaryDiv,\n      children: [_jsx(Text, {\n        style: styles.inputTitle,\n        children: \"Bio\"\n      }), _jsx(TextInput, {\n        style: styles.bioInput,\n        onChangeText: function onChangeText(value) {\n          return setBio(value);\n        }\n      })]\n    }), _jsx(Pressable, {\n      style: styles.nextButton,\n      onPress: function onPress() {\n        return Create();\n      },\n      children: _jsx(Text, {\n        style: {\n          color: \"white\"\n        },\n        children: \"Continue\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight\n  },\n  title: {\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    margin: 10\n  },\n  primaryDiv: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  secondaryDiv: {\n    margin: 10\n  },\n  userIcon: {\n    width: 100,\n    height: 100,\n    marginBottom: 5,\n    borderRadius: 100\n  },\n  iconContainer: {\n    margin: 10,\n    alignItems: \"center\"\n  },\n  inputsContainer: {},\n  inputContainer: {},\n  inputTitle: {\n    fontSize: 10\n  },\n  nameInput: {\n    borderBottomColor: \"#222\",\n    borderBottomWidth: 1,\n    paddingVertical: 3,\n    marginBottom: 10\n  },\n  bioInput: {\n    borderWidth: 1,\n    borderColor: \"#222\",\n    borderRadius: 10,\n    marginTop: 5,\n    height: 70\n  },\n  nextButton: {\n    backgroundColor: \"#2f95dc\",\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 50,\n    position: \"absolute\",\n    bottom: 10,\n    left: \"40%\"\n  }\n});","map":{"version":3,"names":["useState","useContext","Text","TextInput","ImagePicker","createProfile","UserContext","CreateProfile","navigation","name","setName","username","setUsername","avatar","setAvatar","bio","setBio","user","logged","update","Create","newUser","id","phone","profile","then","data","err","alert","created","updateUser","navigate","SelectIcon","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","cancelled","uri","styles","container","title","primaryDiv","iconContainer","require","userIcon","fontSize","inputsContainer","inputContainer","inputTitle","nameInput","value","secondaryDiv","bioInput","nextButton","color","StyleSheet","create","flex","marginTop","StatusBar","currentHeight","fontWeight","textAlign","margin","flexDirection","alignItems","width","height","marginBottom","borderRadius","borderBottomColor","borderBottomWidth","paddingVertical","borderWidth","borderColor","backgroundColor","paddingHorizontal","position","bottom","left"],"sources":["/home/samuel/Documentos/projetos/mobile/halk/client/screens/register/createProfile.tsx"],"sourcesContent":["import { useState, useContext } from \"react\";\nimport { Image, Pressable, StatusBar, StyleSheet, View } from \"react-native\";\nimport { RootStackScreenProps } from \"../../types\";\nimport { Text, TextInput } from \"../../src/components/Themed\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { createProfile } from \"../../middleware/api\";\nimport { UserContext } from \"../../src/contexts/user\";\n\nexport default function CreateProfile({\n  navigation,\n}: RootStackScreenProps<\"CreateProfile\">) {\n  const [name, setName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [avatar, setAvatar] = useState(\"\");\n  const [bio, setBio] = useState(\"\");\n\n  const { user, logged, update } = useContext(UserContext);\n\n  function Create() {\n    const newUser = {\n      id: user.id,\n      phone: user.phone,\n      profile: {\n        name,\n        username,\n        avatar,\n        bio,\n      },\n    };\n\n    createProfile(newUser).then((data) => {\n      if (data.err)\n        return alert(\"houve um erro ao criar o seu perfil, tente novamente\");\n\n      if (data.created) {\n        updateUser({\n          logged: true,\n          user: newUser,\n        });\n        navigation.navigate(\"Root\");\n      }\n    });\n  }\n\n  async function SelectIcon() {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n    });\n\n    if (!result.cancelled) {\n      setAvatar(result.uri);\n    }\n  }\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Create your profile</Text>\n      <View style={styles.primaryDiv}>\n        <Pressable style={styles.iconContainer} onPress={() => SelectIcon()}>\n          <Image\n            source={\n              avatar ? avatar : require(\"../../assets/images/userIcon.png\")\n            }\n            style={styles.userIcon}\n          />\n          <Text style={{ fontSize: 10 }}>Choose a icon</Text>\n        </Pressable>\n        <View style={styles.inputsContainer}>\n          <View style={styles.inputContainer}>\n            <Text style={styles.inputTitle}>Name</Text>\n            <TextInput\n              style={styles.nameInput}\n              onChangeText={(value) => setName(value)}\n            />\n          </View>\n          <View style={styles.inputContainer}>\n            <Text style={styles.inputTitle}>Username</Text>\n            <TextInput\n              style={styles.nameInput}\n              onChangeText={(value) => setUsername(value)}\n            />\n          </View>\n        </View>\n      </View>\n      <View style={styles.secondaryDiv}>\n        <Text style={styles.inputTitle}>Bio</Text>\n        <TextInput\n          style={styles.bioInput}\n          onChangeText={(value) => setBio(value)}\n        />\n      </View>\n      <Pressable style={styles.nextButton} onPress={() => Create()}>\n        <Text style={{ color: \"white\" }}>Continue</Text>\n      </Pressable>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight,\n  },\n  title: {\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    margin: 10,\n  },\n  primaryDiv: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  secondaryDiv: {\n    margin: 10,\n  },\n  userIcon: {\n    width: 100,\n    height: 100,\n    marginBottom: 5,\n    borderRadius: 100,\n  },\n  iconContainer: {\n    margin: 10,\n    alignItems: \"center\",\n  },\n  inputsContainer: {},\n  inputContainer: {},\n  inputTitle: {\n    fontSize: 10,\n  },\n  nameInput: {\n    borderBottomColor: \"#222\",\n    borderBottomWidth: 1,\n    paddingVertical: 3,\n    marginBottom: 10,\n  },\n  bioInput: {\n    borderWidth: 1,\n    borderColor: \"#222\",\n    borderRadius: 10,\n    marginTop: 5,\n    height: 70,\n  },\n  nextButton: {\n    backgroundColor: \"#2f95dc\",\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 50,\n    position: \"absolute\",\n    bottom: 10,\n    left: \"40%\",\n  },\n});\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,UAAnB,QAAqC,OAArC;;;;;;AAGA,SAASC,IAAT,EAAeC,SAAf;AACA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;AACA,SAASC,aAAT;AACA,SAASC,WAAT;;;AAEA,eAAe,SAASC,aAAT,OAE2B;EAAA,IADxCC,UACwC,QADxCA,UACwC;;EACxC,gBAAwBR,QAAQ,CAAC,EAAD,CAAhC;EAAA;EAAA,IAAOS,IAAP;EAAA,IAAaC,OAAb;;EACA,iBAAgCV,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOW,QAAP;EAAA,IAAiBC,WAAjB;;EACA,iBAA4BZ,QAAQ,CAAC,EAAD,CAApC;EAAA;EAAA,IAAOa,MAAP;EAAA,IAAeC,SAAf;;EACA,iBAAsBd,QAAQ,CAAC,EAAD,CAA9B;EAAA;EAAA,IAAOe,GAAP;EAAA,IAAYC,MAAZ;;EAEA,kBAAiCf,UAAU,CAACK,WAAD,CAA3C;EAAA,IAAQW,IAAR,eAAQA,IAAR;EAAA,IAAcC,MAAd,eAAcA,MAAd;EAAA,IAAsBC,MAAtB,eAAsBA,MAAtB;;EAEA,SAASC,MAAT,GAAkB;IAChB,IAAMC,OAAO,GAAG;MACdC,EAAE,EAAEL,IAAI,CAACK,EADK;MAEdC,KAAK,EAAEN,IAAI,CAACM,KAFE;MAGdC,OAAO,EAAE;QACPf,IAAI,EAAJA,IADO;QAEPE,QAAQ,EAARA,QAFO;QAGPE,MAAM,EAANA,MAHO;QAIPE,GAAG,EAAHA;MAJO;IAHK,CAAhB;IAWAV,aAAa,CAACgB,OAAD,CAAb,CAAuBI,IAAvB,CAA4B,UAACC,IAAD,EAAU;MACpC,IAAIA,IAAI,CAACC,GAAT,EACE,OAAOC,KAAK,CAAC,sDAAD,CAAZ;;MAEF,IAAIF,IAAI,CAACG,OAAT,EAAkB;QAChBC,UAAU,CAAC;UACTZ,MAAM,EAAE,IADC;UAETD,IAAI,EAAEI;QAFG,CAAD,CAAV;QAIAb,UAAU,CAACuB,QAAX,CAAoB,MAApB;MACD;IACF,CAXD;EAYD;;EAhCuC,SAkCzBC,UAlCyB;IAAA;EAAA;;EAAA;IAAA,gCAkCxC,aAA4B;MAC1B,IAAIC,MAAM,SAAS7B,WAAW,CAAC8B,uBAAZ,CAAoC;QACrDC,UAAU,EAAE/B,WAAW,CAACgC,gBAAZ,CAA6BC,MADY;QAErDC,aAAa,EAAE,IAFsC;QAGrDC,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,CAH6C;QAIrDC,OAAO,EAAE;MAJ4C,CAApC,CAAnB;;MAOA,IAAI,CAACP,MAAM,CAACQ,SAAZ,EAAuB;QACrB3B,SAAS,CAACmB,MAAM,CAACS,GAAR,CAAT;MACD;IACF,CA7CuC;IAAA;EAAA;;EA+CxC,OACE,MAAC,IAAD;IAAM,KAAK,EAAEC,MAAM,CAACC,SAApB;IAAA,WACE,KAAC,IAAD;MAAM,KAAK,EAAED,MAAM,CAACE,KAApB;MAAA;IAAA,EADF,EAEE,MAAC,IAAD;MAAM,KAAK,EAAEF,MAAM,CAACG,UAApB;MAAA,WACE,MAAC,SAAD;QAAW,KAAK,EAAEH,MAAM,CAACI,aAAzB;QAAwC,OAAO,EAAE;UAAA,OAAMf,UAAU,EAAhB;QAAA,CAAjD;QAAA,WACE,KAAC,KAAD;UACE,MAAM,EACJnB,MAAM,GAAGA,MAAH,GAAYmC,OAAO,oCAF7B;UAIE,KAAK,EAAEL,MAAM,CAACM;QAJhB,EADF,EAOE,KAAC,IAAD;UAAM,KAAK,EAAE;YAAEC,QAAQ,EAAE;UAAZ,CAAb;UAAA;QAAA,EAPF;MAAA,EADF,EAUE,MAAC,IAAD;QAAM,KAAK,EAAEP,MAAM,CAACQ,eAApB;QAAA,WACE,MAAC,IAAD;UAAM,KAAK,EAAER,MAAM,CAACS,cAApB;UAAA,WACE,KAAC,IAAD;YAAM,KAAK,EAAET,MAAM,CAACU,UAApB;YAAA;UAAA,EADF,EAEE,KAAC,SAAD;YACE,KAAK,EAAEV,MAAM,CAACW,SADhB;YAEE,YAAY,EAAE,sBAACC,KAAD;cAAA,OAAW7C,OAAO,CAAC6C,KAAD,CAAlB;YAAA;UAFhB,EAFF;QAAA,EADF,EAQE,MAAC,IAAD;UAAM,KAAK,EAAEZ,MAAM,CAACS,cAApB;UAAA,WACE,KAAC,IAAD;YAAM,KAAK,EAAET,MAAM,CAACU,UAApB;YAAA;UAAA,EADF,EAEE,KAAC,SAAD;YACE,KAAK,EAAEV,MAAM,CAACW,SADhB;YAEE,YAAY,EAAE,sBAACC,KAAD;cAAA,OAAW3C,WAAW,CAAC2C,KAAD,CAAtB;YAAA;UAFhB,EAFF;QAAA,EARF;MAAA,EAVF;IAAA,EAFF,EA6BE,MAAC,IAAD;MAAM,KAAK,EAAEZ,MAAM,CAACa,YAApB;MAAA,WACE,KAAC,IAAD;QAAM,KAAK,EAAEb,MAAM,CAACU,UAApB;QAAA;MAAA,EADF,EAEE,KAAC,SAAD;QACE,KAAK,EAAEV,MAAM,CAACc,QADhB;QAEE,YAAY,EAAE,sBAACF,KAAD;UAAA,OAAWvC,MAAM,CAACuC,KAAD,CAAjB;QAAA;MAFhB,EAFF;IAAA,EA7BF,EAoCE,KAAC,SAAD;MAAW,KAAK,EAAEZ,MAAM,CAACe,UAAzB;MAAqC,OAAO,EAAE;QAAA,OAAMtC,MAAM,EAAZ;MAAA,CAA9C;MAAA,UACE,KAAC,IAAD;QAAM,KAAK,EAAE;UAAEuC,KAAK,EAAE;QAAT,CAAb;QAAA;MAAA;IADF,EApCF;EAAA,EADF;AA0CD;AAED,IAAMhB,MAAM,GAAGiB,UAAU,CAACC,MAAX,CAAkB;EAC/BjB,SAAS,EAAE;IACTkB,IAAI,EAAE,CADG;IAETC,SAAS,EAAEC,SAAS,CAACC;EAFZ,CADoB;EAK/BpB,KAAK,EAAE;IACLqB,UAAU,EAAE,MADP;IAELC,SAAS,EAAE,QAFN;IAGLC,MAAM,EAAE;EAHH,CALwB;EAU/BtB,UAAU,EAAE;IACVuB,aAAa,EAAE,KADL;IAEVC,UAAU,EAAE;EAFF,CAVmB;EAc/Bd,YAAY,EAAE;IACZY,MAAM,EAAE;EADI,CAdiB;EAiB/BnB,QAAQ,EAAE;IACRsB,KAAK,EAAE,GADC;IAERC,MAAM,EAAE,GAFA;IAGRC,YAAY,EAAE,CAHN;IAIRC,YAAY,EAAE;EAJN,CAjBqB;EAuB/B3B,aAAa,EAAE;IACbqB,MAAM,EAAE,EADK;IAEbE,UAAU,EAAE;EAFC,CAvBgB;EA2B/BnB,eAAe,EAAE,EA3Bc;EA4B/BC,cAAc,EAAE,EA5Be;EA6B/BC,UAAU,EAAE;IACVH,QAAQ,EAAE;EADA,CA7BmB;EAgC/BI,SAAS,EAAE;IACTqB,iBAAiB,EAAE,MADV;IAETC,iBAAiB,EAAE,CAFV;IAGTC,eAAe,EAAE,CAHR;IAITJ,YAAY,EAAE;EAJL,CAhCoB;EAsC/BhB,QAAQ,EAAE;IACRqB,WAAW,EAAE,CADL;IAERC,WAAW,EAAE,MAFL;IAGRL,YAAY,EAAE,EAHN;IAIRX,SAAS,EAAE,CAJH;IAKRS,MAAM,EAAE;EALA,CAtCqB;EA6C/Bd,UAAU,EAAE;IACVsB,eAAe,EAAE,SADP;IAEVH,eAAe,EAAE,EAFP;IAGVI,iBAAiB,EAAE,EAHT;IAIVP,YAAY,EAAE,EAJJ;IAKVQ,QAAQ,EAAE,UALA;IAMVC,MAAM,EAAE,EANE;IAOVC,IAAI,EAAE;EAPI;AA7CmB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}