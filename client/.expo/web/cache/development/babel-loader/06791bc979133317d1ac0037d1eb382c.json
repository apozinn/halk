{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useContext } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Text } from \"./Themed\";\nimport { isPossiblePhoneNumber, isValidPhoneNumber } from \"libphonenumber-js\";\nimport { sendSms } from \"../../middleware/api\";\nimport { UserContext } from \"../contexts/user\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function VerifyPhoneFormat(_ref) {\n  var phone = _ref.phone,\n      navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modalVisible = _useState2[0],\n      setModalVisible = _useState2[1];\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user,\n      logged = _useContext.logged,\n      updateUser = _useContext.updateUser;\n\n  function Verify() {\n    if (!phone || !navigation) return null;\n\n    if (isPossiblePhoneNumber(phone) && isValidPhoneNumber(phone)) {\n      return _jsx(View, {\n        style: styles.centeredView,\n        children: _jsx(Modal, {\n          animationType: \"slide\",\n          transparent: true,\n          visible: modalVisible,\n          onRequestClose: function onRequestClose() {\n            setModalVisible(!modalVisible);\n          },\n          children: _jsx(View, {\n            style: styles.centeredView,\n            children: _jsxs(View, {\n              style: styles.modalView,\n              children: [_jsxs(Text, {\n                style: styles.modalText,\n                children: [\"Voc\\xEA confirma \", phone, \" como seu n\\xFAmero?\"]\n              }), _jsxs(View, {\n                style: styles.buttonsContainer,\n                children: [_jsx(Pressable, {\n                  onPress: function onPress() {\n                    return setModalVisible(!modalVisible);\n                  },\n                  children: _jsx(Text, {\n                    style: [styles.button, {\n                      color: \"red\"\n                    }],\n                    children: \"Cancel\"\n                  })\n                }), _jsx(Pressable, {\n                  onPress: function onPress() {\n                    setModalVisible(!modalVisible);\n                    sendSms(phone).then(function (data) {\n                      if (data.codeSend) {\n                        updateUser({\n                          logged: logged,\n                          user: {\n                            id: data.id,\n                            phone: phone,\n                            profile: user.profile\n                          }\n                        });\n                        navigation.navigate(\"ReceiveCode\");\n                      } else alert(\"Não foi possivel enviar o codigo para o seu numero\");\n                    });\n                  },\n                  children: _jsx(Text, {\n                    style: [styles.button, {\n                      color: \"lime\"\n                    }],\n                    children: \"Confirmar\"\n                  })\n                })]\n              })]\n            })\n          })\n        })\n      });\n    } else {\n      return _jsx(View, {\n        style: styles.centeredView,\n        children: _jsx(Modal, {\n          animationType: \"slide\",\n          transparent: true,\n          visible: modalVisible,\n          onRequestClose: function onRequestClose() {\n            setModalVisible(!modalVisible);\n          },\n          children: _jsx(View, {\n            style: styles.centeredView,\n            children: _jsxs(View, {\n              style: styles.modalView,\n              children: [_jsx(Text, {\n                style: styles.modalText,\n                children: \"N\\xFAmero inval\\xEDdo, tente novamente.\"\n              }), _jsx(View, {\n                style: styles.buttonsContainer,\n                children: _jsx(Pressable, {\n                  onPress: function onPress() {\n                    return setModalVisible(!modalVisible);\n                  },\n                  children: _jsx(Text, {\n                    style: [styles.button, {\n                      color: \"lime\"\n                    }],\n                    children: \"Ok\"\n                  })\n                })\n              })]\n            })\n          })\n        })\n      });\n    }\n  }\n\n  return _jsxs(_Fragment, {\n    children: [_jsx(Pressable, {\n      style: [styles.nextButton, {\n        opacity: !phone ? 0.5 : 1\n      }],\n      onPress: function onPress() {\n        return setModalVisible(modalVisible ? false : true);\n      },\n      children: _jsx(Text, {\n        children: \"Continue\"\n      })\n    }), _jsx(Verify, {})]\n  });\n}\nvar styles = StyleSheet.create({\n  nextButton: {\n    backgroundColor: \"#2f95dc\",\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    position: \"absolute\",\n    borderRadius: 100,\n    bottom: 20\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  modalView: {\n    margin: 20,\n    borderRadius: 20,\n    padding: 15,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5,\n    borderColor: \"#222\",\n    borderWidth: 1\n  },\n  title: {\n    fontSize: 14\n  },\n  button: {\n    fontSize: 12\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  },\n  buttonsContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    width: \"100%\"\n  }\n});","map":{"version":3,"names":["React","useState","useContext","Text","isPossiblePhoneNumber","isValidPhoneNumber","sendSms","UserContext","VerifyPhoneFormat","phone","navigation","modalVisible","setModalVisible","user","logged","updateUser","Verify","styles","centeredView","modalView","modalText","buttonsContainer","button","color","then","data","codeSend","id","profile","navigate","alert","nextButton","opacity","StyleSheet","create","backgroundColor","paddingVertical","paddingHorizontal","position","borderRadius","bottom","flex","justifyContent","alignItems","margin","padding","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","borderColor","borderWidth","title","fontSize","marginBottom","textAlign","flexDirection"],"sources":["/home/samuel/Documentos/projetos/mobile/halk/client/src/components/verifyPhoneFormat.tsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { View, Modal, Pressable, StyleSheet } from \"react-native\";\nimport { Text } from \"./Themed\";\nimport { isPossiblePhoneNumber, isValidPhoneNumber } from \"libphonenumber-js\";\nimport { sendSms } from \"../../middleware/api\";\nimport { UserContext } from \"../contexts/user\";\n\nexport default function VerifyPhoneFormat({ phone, navigation }: any) {\n  const [modalVisible, setModalVisible] = useState(false);\n  const { user, logged, updateUser } = useContext(UserContext);\n\n  function Verify() {\n    if (!phone || !navigation) return null;\n\n    if (isPossiblePhoneNumber(phone) && isValidPhoneNumber(phone)) {\n      return (\n        <View style={styles.centeredView}>\n          <Modal\n            animationType=\"slide\"\n            transparent={true}\n            visible={modalVisible}\n            onRequestClose={() => {\n              setModalVisible(!modalVisible);\n            }}\n          >\n            <View style={styles.centeredView}>\n              <View style={styles.modalView}>\n                <Text style={styles.modalText}>\n                  Você confirma {phone} como seu número?\n                </Text>\n                <View style={styles.buttonsContainer}>\n                  <Pressable onPress={() => setModalVisible(!modalVisible)}>\n                    <Text style={[styles.button, { color: \"red\" }]}>\n                      Cancel\n                    </Text>\n                  </Pressable>\n                  <Pressable\n                    onPress={() => {\n                      setModalVisible(!modalVisible);\n                      sendSms(phone).then((data) => {\n                        if (data.codeSend) {\n                          updateUser({\n                            logged: logged,\n                            user: {\n                              id: data.id,\n                              phone: phone,\n                              profile: user.profile,\n                            },\n                          });\n                          navigation.navigate(\"ReceiveCode\");\n                        } else\n                          alert(\n                            \"Não foi possivel enviar o codigo para o seu numero\"\n                          );\n                      });\n                    }}\n                  >\n                    <Text style={[styles.button, { color: \"lime\" }]}>\n                      Confirmar\n                    </Text>\n                  </Pressable>\n                </View>\n              </View>\n            </View>\n          </Modal>\n        </View>\n      );\n    } else {\n      return (\n        <View style={styles.centeredView}>\n          <Modal\n            animationType=\"slide\"\n            transparent={true}\n            visible={modalVisible}\n            onRequestClose={() => {\n              setModalVisible(!modalVisible);\n            }}\n          >\n            <View style={styles.centeredView}>\n              <View style={styles.modalView}>\n                <Text style={styles.modalText}>\n                  Número invalído, tente novamente.\n                </Text>\n                <View style={styles.buttonsContainer}>\n                  <Pressable onPress={() => setModalVisible(!modalVisible)}>\n                    <Text style={[styles.button, { color: \"lime\" }]}>Ok</Text>\n                  </Pressable>\n                </View>\n              </View>\n            </View>\n          </Modal>\n        </View>\n      );\n    }\n  }\n\n  return (\n    <>\n      <Pressable\n        style={[styles.nextButton, { opacity: !phone ? 0.5 : 1 }]}\n        onPress={() => setModalVisible(modalVisible ? false : true)}\n      >\n        <Text>Continue</Text>\n      </Pressable>\n      <Verify />\n    </>\n  );\n}\n\nconst styles = StyleSheet.create({\n  nextButton: {\n    backgroundColor: \"#2f95dc\",\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    position: \"absolute\",\n    borderRadius: 100,\n    bottom: 20,\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  modalView: {\n    margin: 20,\n    borderRadius: 20,\n    padding: 15,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5,\n    borderColor: \"#222\",\n    borderWidth: 1,\n  },\n  title: {\n    fontSize: 14,\n  },\n  button: {\n    fontSize: 12,\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\",\n  },\n  buttonsContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}