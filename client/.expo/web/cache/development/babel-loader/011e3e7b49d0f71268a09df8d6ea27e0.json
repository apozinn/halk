{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { createContext, useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n;\nexport var UserContext = createContext({});\nexport var UserProvider = function UserProvider(_ref) {\n  var children = _ref.children;\n\n  var updateUser = function updateUser(newUser) {\n    setUser({\n      logged: newUser.logged,\n      user: newUser.user,\n      updateUser: updateUser\n    });\n  };\n\n  var initialValue = {\n    logged: false,\n    user: {\n      id: '',\n      phone: '',\n      profile: {\n        name: '',\n        username: '',\n        avatar: '',\n        bio: ''\n      }\n    },\n    updateUser: updateUser\n  };\n\n  var _useState = useState(initialValue),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  return _jsx(UserContext.Provider, {\n    value: user,\n    children: children\n  });\n};","map":{"version":3,"names":["createContext","useState","UserContext","UserProvider","children","updateUser","newUser","setUser","logged","user","initialValue","id","phone","profile","name","username","avatar","bio"],"sources":["/home/samuel/Documentos/projetos/mobile/halk/src/contexts/user.tsx"],"sourcesContent":["import { createContext, useEffect, useState } from 'react';\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\ninterface UserInterface {\n    logged: boolean;\n    user: {\n        id: string;\n        phone: string;\n        profile: {\n            name: string;\n            username: string;\n            avatar: string;\n            bio: string;\n        };\n    };\n    updateUser: Function;\n};\n\nexport const UserContext = createContext<UserInterface>({} as UserInterface);\n\nexport const UserProvider = ({children}:any) => {\n    const updateUser = (newUser:any) => {\n        setUser({\n            logged: newUser.logged,\n            user: newUser.user,\n            updateUser: updateUser,\n        });\n    }\n\n    const initialValue: UserInterface = {\n        logged: false,\n        user: {\n            id: '',\n            phone: '',\n            profile: {\n                name: '',\n                username: '',\n                avatar: '',\n                bio: '',\n            },\n        },\n        updateUser: updateUser,\n    };\n\n    const [user, setUser] = useState<UserInterface>(initialValue);\n\n    // useEffect(() => {\n    //     AsyncStorage.getItem('user').then((data:any) => {\n    //         const dt = JSON.parse(data);\n    //\n    //         if(dt) {\n    //             updateUser(dt);\n    //         } else updateUser(initialValue);\n    //     });\n    // }, []);\n    //\n    // useEffect(() => {\n    //     if(user !== initialValue) {\n    //         AsyncStorage.setItem('user', JSON.stringify(user));\n    //     }\n    // }, [user]);\n\n    return (\n        <UserContext.Provider value={user}>\n            {children}\n        </UserContext.Provider>\n    )\n}\n"],"mappings":";AAAA,SAASA,aAAT,EAAmCC,QAAnC,QAAmD,OAAnD;;AAgBC;AAED,OAAO,IAAMC,WAAW,GAAGF,aAAa,CAAgB,EAAhB,CAAjC;AAEP,OAAO,IAAMG,YAAY,GAAG,SAAfA,YAAe,OAAoB;EAAA,IAAlBC,QAAkB,QAAlBA,QAAkB;;EAC5C,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,OAAD,EAAiB;IAChCC,OAAO,CAAC;MACJC,MAAM,EAAEF,OAAO,CAACE,MADZ;MAEJC,IAAI,EAAEH,OAAO,CAACG,IAFV;MAGJJ,UAAU,EAAEA;IAHR,CAAD,CAAP;EAKH,CAND;;EAQA,IAAMK,YAA2B,GAAG;IAChCF,MAAM,EAAE,KADwB;IAEhCC,IAAI,EAAE;MACFE,EAAE,EAAE,EADF;MAEFC,KAAK,EAAE,EAFL;MAGFC,OAAO,EAAE;QACLC,IAAI,EAAE,EADD;QAELC,QAAQ,EAAE,EAFL;QAGLC,MAAM,EAAE,EAHH;QAILC,GAAG,EAAE;MAJA;IAHP,CAF0B;IAYhCZ,UAAU,EAAEA;EAZoB,CAApC;;EAeA,gBAAwBJ,QAAQ,CAAgBS,YAAhB,CAAhC;EAAA;EAAA,IAAOD,IAAP;EAAA,IAAaF,OAAb;;EAkBA,OACI,KAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAEE,IAA7B;IAAA,UACKL;EADL,EADJ;AAKH,CA/CM"},"metadata":{},"sourceType":"module"}