{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useState, useEffect } from 'react';\nimport { CountryModal } from \"./CountryModal\";\nimport { HeaderModal } from \"./HeaderModal\";\nimport { FlagType } from \"./types\";\nimport { CountryFilter } from \"./CountryFilter\";\nimport { FlagButton } from \"./FlagButton\";\nimport { useContext } from \"./CountryContext\";\nimport { CountryList } from \"./CountryList\";\nvar renderFlagButton = function renderFlagButton(props) {\n  return props.renderFlagButton ? props.renderFlagButton(props) : React.createElement(FlagButton, Object.assign({}, props));\n};\nvar _renderFilter = function renderFilter(props) {\n  return props.renderCountryFilter ? props.renderCountryFilter(props) : React.createElement(CountryFilter, Object.assign({}, props));\n};\nexport var CountryPicker = function CountryPicker(props) {\n  var countryCode = props.countryCode,\n    region = props.region,\n    subregion = props.subregion,\n    countryCodes = props.countryCodes,\n    renderButton = props.renderFlagButton,\n    renderCountryFilter = props.renderCountryFilter,\n    filterProps = props.filterProps,\n    modalProps = props.modalProps,\n    flatListProps = props.flatListProps,\n    onSelect = props.onSelect,\n    withEmoji = props.withEmoji,\n    withFilter = props.withFilter,\n    withCloseButton = props.withCloseButton,\n    withCountryNameButton = props.withCountryNameButton,\n    withCallingCodeButton = props.withCallingCodeButton,\n    withCurrencyButton = props.withCurrencyButton,\n    containerButtonStyle = props.containerButtonStyle,\n    withAlphaFilter = props.withAlphaFilter,\n    withCallingCode = props.withCallingCode,\n    withCurrency = props.withCurrency,\n    withFlag = props.withFlag,\n    withModal = props.withModal,\n    disableNativeModal = props.disableNativeModal,\n    withFlagButton = props.withFlagButton,\n    handleClose = props.onClose,\n    handleOpen = props.onOpen,\n    closeButtonImage = props.closeButtonImage,\n    closeButtonStyle = props.closeButtonStyle,\n    closeButtonImageStyle = props.closeButtonImageStyle,\n    excludeCountries = props.excludeCountries,\n    placeholder = props.placeholder,\n    preferredCountries = props.preferredCountries;\n  var _useState = useState({\n      visible: props.visible || false,\n      countries: [],\n      filter: '',\n      filterFocus: false\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var _useContext = useContext(),\n    translation = _useContext.translation,\n    getCountriesAsync = _useContext.getCountriesAsync;\n  var visible = state.visible,\n    filter = state.filter,\n    countries = state.countries,\n    filterFocus = state.filterFocus;\n  useEffect(function () {\n    if (state.visible !== props.visible) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        visible: props.visible || false\n      }));\n    }\n  }, [props.visible]);\n  var onOpen = function onOpen() {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      visible: true\n    }));\n    if (handleOpen) {\n      handleOpen();\n    }\n  };\n  var onClose = function onClose() {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      filter: '',\n      visible: false\n    }));\n    if (handleClose) {\n      handleClose();\n    }\n  };\n  var setFilter = function setFilter(filter) {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      filter: filter\n    }));\n  };\n  var setCountries = function setCountries(countries) {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      countries: countries\n    }));\n  };\n  var onSelectClose = function onSelectClose(country) {\n    onSelect(country);\n    onClose();\n  };\n  var onFocus = function onFocus() {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      filterFocus: true\n    }));\n  };\n  var onBlur = function onBlur() {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      filterFocus: false\n    }));\n  };\n  var flagProp = {\n    countryCode: countryCode,\n    withEmoji: withEmoji,\n    withCountryNameButton: withCountryNameButton,\n    withCallingCodeButton: withCallingCodeButton,\n    withCurrencyButton: withCurrencyButton,\n    withFlagButton: withFlagButton,\n    renderFlagButton: renderButton,\n    onOpen: onOpen,\n    containerButtonStyle: containerButtonStyle,\n    placeholder: placeholder\n  };\n  useEffect(function () {\n    getCountriesAsync(withEmoji ? FlagType.EMOJI : FlagType.FLAT, translation, region, subregion, countryCodes, excludeCountries, preferredCountries, withAlphaFilter).then(setCountries).catch(console.warn);\n  }, [translation, withEmoji]);\n  return React.createElement(React.Fragment, null, withModal && renderFlagButton(flagProp), React.createElement(CountryModal, Object.assign({}, _objectSpread({\n    visible: visible,\n    withModal: withModal,\n    disableNativeModal: disableNativeModal\n  }, modalProps), {\n    onRequestClose: onClose,\n    onDismiss: onClose\n  }), React.createElement(HeaderModal, Object.assign({}, {\n    withFilter: withFilter,\n    onClose: onClose,\n    closeButtonImage: closeButtonImage,\n    closeButtonImageStyle: closeButtonImageStyle,\n    closeButtonStyle: closeButtonStyle,\n    withCloseButton: withCloseButton\n  }, {\n    renderFilter: function renderFilter(props) {\n      return _renderFilter(_objectSpread(_objectSpread({}, props), {}, {\n        renderCountryFilter: renderCountryFilter,\n        onChangeText: setFilter,\n        value: filter,\n        onFocus: onFocus,\n        onBlur: onBlur\n      }, filterProps));\n    }\n  })), React.createElement(CountryList, Object.assign({}, {\n    onSelect: onSelectClose,\n    data: countries,\n    letters: [],\n    withAlphaFilter: withAlphaFilter && filter === '',\n    withCallingCode: withCallingCode,\n    withCurrency: withCurrency,\n    withFlag: withFlag,\n    withEmoji: withEmoji,\n    filter: filter,\n    filterFocus: filterFocus,\n    flatListProps: flatListProps\n  }))));\n};\nCountryPicker.defaultProps = {\n  withModal: true,\n  withAlphaFilter: false,\n  withCallingCode: false,\n  placeholder: 'Select Country'\n};","map":{"version":3,"mappings":"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","names":["React","useState","useEffect","CountryModal","HeaderModal","FlagType","CountryFilter","FlagButton","useContext","CountryList","renderFlagButton","props","renderFilter","renderCountryFilter","CountryPicker","countryCode","region","subregion","countryCodes","renderButton","filterProps","modalProps","flatListProps","onSelect","withEmoji","withFilter","withCloseButton","withCountryNameButton","withCallingCodeButton","withCurrencyButton","containerButtonStyle","withAlphaFilter","withCallingCode","withCurrency","withFlag","withModal","disableNativeModal","withFlagButton","handleClose","onClose","handleOpen","onOpen","closeButtonImage","closeButtonStyle","closeButtonImageStyle","excludeCountries","placeholder","preferredCountries","visible","countries","filter","filterFocus","state","setState","translation","getCountriesAsync","setFilter","setCountries","onSelectClose","country","onFocus","onBlur","flagProp","EMOJI","FLAT","then","catch","console","warn","onRequestClose","onDismiss","onChangeText","value","data","letters","defaultProps"],"sourceRoot":"","sources":["../src/CountryPicker.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}