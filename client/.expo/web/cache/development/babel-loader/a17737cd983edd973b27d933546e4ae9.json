{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport { UserContext } from \"./user\";\nimport { CreateSocketConnection } from \"../utils/socket\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var SocketContext = createContext();\nexport var SocketProvider = function SocketProvider(_ref) {\n  var children = _ref.children;\n\n  var _useContext = useContext(UserContext),\n      user = _useContext.user;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      socket = _useState2[0],\n      setSocket = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      ready = _useState4[0],\n      setReady = _useState4[1];\n\n  useEffect(function () {\n    if (user.id) {\n      setSocket(CreateSocketConnection({\n        userId: user.id\n      }));\n    }\n\n    setReady(true);\n  }, []);\n  if (!ready) return null;\n  return _jsx(SocketContext.Provider, {\n    value: socket,\n    children: children\n  });\n};","map":{"version":3,"names":["createContext","useContext","useState","useEffect","UserContext","CreateSocketConnection","SocketContext","SocketProvider","children","user","socket","setSocket","ready","setReady","id","userId"],"sources":["/home/samuel/Documentos/projetos/mobile/halk/client/src/contexts/socket.tsx"],"sourcesContent":["import { createContext, useContext, useState, useEffect } from \"react\";\nimport { UserContext } from \"./user\";\nimport { CreateSocketConnection } from \"../utils/socket\";\n\nexport const SocketContext = createContext();\n\nexport const SocketProvider = ({ children }) => {\n  const { user } = useContext(UserContext);\n  const [socket, setSocket] = useState();\n  const [ready, setReady] = useState(false);\n\n  useEffect(() => {\n    if (user.id) {\n      setSocket(CreateSocketConnection({ userId: user.id }));\n    }\n    setReady(true);\n  }, []);\n\n  if (!ready) return null;\n\n  return (\n    <SocketContext.Provider value={socket}>{children}</SocketContext.Provider>\n  );\n};\n"],"mappings":";AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,QAApC,EAA8CC,SAA9C,QAA+D,OAA/D;AACA,SAASC,WAAT;AACA,SAASC,sBAAT;;AAEA,OAAO,IAAMC,aAAa,GAAGN,aAAa,EAAnC;AAEP,OAAO,IAAMO,cAAc,GAAG,SAAjBA,cAAiB,OAAkB;EAAA,IAAfC,QAAe,QAAfA,QAAe;;EAC9C,kBAAiBP,UAAU,CAACG,WAAD,CAA3B;EAAA,IAAQK,IAAR,eAAQA,IAAR;;EACA,gBAA4BP,QAAQ,EAApC;EAAA;EAAA,IAAOQ,MAAP;EAAA,IAAeC,SAAf;;EACA,iBAA0BT,QAAQ,CAAC,KAAD,CAAlC;EAAA;EAAA,IAAOU,KAAP;EAAA,IAAcC,QAAd;;EAEAV,SAAS,CAAC,YAAM;IACd,IAAIM,IAAI,CAACK,EAAT,EAAa;MACXH,SAAS,CAACN,sBAAsB,CAAC;QAAEU,MAAM,EAAEN,IAAI,CAACK;MAAf,CAAD,CAAvB,CAAT;IACD;;IACDD,QAAQ,CAAC,IAAD,CAAR;EACD,CALQ,EAKN,EALM,CAAT;EAOA,IAAI,CAACD,KAAL,EAAY,OAAO,IAAP;EAEZ,OACE,KAAC,aAAD,CAAe,QAAf;IAAwB,KAAK,EAAEF,MAA/B;IAAA,UAAwCF;EAAxC,EADF;AAGD,CAjBM"},"metadata":{},"sourceType":"module"}