{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar api_link = \"http://localhost:3000\";\nexport var uploadImage = function () {\n  var _ref = _asyncToGenerator(function* (image) {\n    var clientId = process.env.IMGUR_ID;\n    var clientSecret = process.env.IMGUR_SECRET;\n    fetch(\"https://api.imgur.com/3/image\", {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": \"Client-ID 7f5ffef5e5e0e4f\",\n        \"Content-type\": \"application/json\"\n      },\n      body: {\n        image: image.split(\",\")[1],\n        type: \"base64\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      return console.log(data);\n    });\n  });\n\n  return function uploadImage(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var createProfile = function () {\n  var _ref2 = _asyncToGenerator(function* (user) {\n    var getUserIconURL = yield uploadImage(user.profile.avatar);\n    user.profile.avatar = getUserIconURL;\n    return;\n    return fetch(api_link + \"/register/createUser\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return res;\n    });\n  });\n\n  return function createProfile(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["api_link","uploadImage","image","clientId","process","env","IMGUR_ID","clientSecret","IMGUR_SECRET","fetch","method","headers","body","split","type","then","res","json","data","console","log","createProfile","user","getUserIconURL","profile","avatar","JSON","stringify"],"sources":["/home/samuel/Documentos/projetos/mobile/halk/middleware/api.ts"],"sourcesContent":["import ImgurClient from \"imgur\";\n\nconst api_link = \"http://localhost:3000\";\n\nexport const uploadImage = async (image: any) => {\n  const clientId = process.env.IMGUR_ID;\n  const clientSecret = process.env.IMGUR_SECRET;\n\n  fetch(\"https://api.imgur.com/3/image\", {\n    method: \"POST\",\n    headers: {\n      \"Authorization\": \"Client-ID 7f5ffef5e5e0e4f\",\n      \"Content-type\": \"application/json\",\n    },\n    body: {\n      image: image.split(\",\")[1],\n      type: \"base64\",\n    },\n  })\n    .then((res) => res.json())\n    .then((data) => console.log(data));\n\n  /* const client = new ImgurClient({\n    clientId: \"7f5ffef5e5e0e4f\",\n    clientSecret: \"c93b303a93b10f935ece56744ce07c34a03b2295\",\n  });\n\n  const formData = new FormData();\n  formData.append('image', image.split(',')[1]);\n\n  console.log(formData);\n\n  const data = await client.upload({\n    image: formData,\n    type: 'base64',\n  });\n\n  console.log(data.data); */\n};\n\nexport const createProfile = async (user: any) => {\n  let getUserIconURL = await uploadImage(user.profile.avatar);\n\n  user.profile.avatar = getUserIconURL;\n\n  return;\n\n  return fetch(`${api_link}/register/createUser`, {\n    method: \"POST\",\n    headers: {\n      \"Content-type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then((res) => res.json())\n    .then((res) => res);\n};\n"],"mappings":";AAEA,IAAMA,QAAQ,GAAG,uBAAjB;AAEA,OAAO,IAAMC,WAAW;EAAA,6BAAG,WAAOC,KAAP,EAAsB;IAC/C,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAA7B;IACA,IAAMC,YAAY,GAAGH,OAAO,CAACC,GAAR,CAAYG,YAAjC;IAEAC,KAAK,CAAC,+BAAD,EAAkC;MACrCC,MAAM,EAAE,MAD6B;MAErCC,OAAO,EAAE;QACP,iBAAiB,2BADV;QAEP,gBAAgB;MAFT,CAF4B;MAMrCC,IAAI,EAAE;QACJV,KAAK,EAAEA,KAAK,CAACW,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CADH;QAEJC,IAAI,EAAE;MAFF;IAN+B,CAAlC,CAAL,CAWGC,IAXH,CAWQ,UAACC,GAAD;MAAA,OAASA,GAAG,CAACC,IAAJ,EAAT;IAAA,CAXR,EAYGF,IAZH,CAYQ,UAACG,IAAD;MAAA,OAAUC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAAV;IAAA,CAZR;EA8BD,CAlCuB;;EAAA,gBAAXjB,WAAW;IAAA;EAAA;AAAA,GAAjB;AAoCP,OAAO,IAAMoB,aAAa;EAAA,8BAAG,WAAOC,IAAP,EAAqB;IAChD,IAAIC,cAAc,SAAStB,WAAW,CAACqB,IAAI,CAACE,OAAL,CAAaC,MAAd,CAAtC;IAEAH,IAAI,CAACE,OAAL,CAAaC,MAAb,GAAsBF,cAAtB;IAEA;IAEA,OAAOd,KAAK,CAAIT,QAAJ,2BAAoC;MAC9CU,MAAM,EAAE,MADsC;MAE9CC,OAAO,EAAE;QACP,gBAAgB;MADT,CAFqC;MAK9CC,IAAI,EAAEc,IAAI,CAACC,SAAL,CAAeL,IAAf;IALwC,CAApC,CAAL,CAOJP,IAPI,CAOC,UAACC,GAAD;MAAA,OAASA,GAAG,CAACC,IAAJ,EAAT;IAAA,CAPD,EAQJF,IARI,CAQC,UAACC,GAAD;MAAA,OAASA,GAAT;IAAA,CARD,CAAP;EASD,CAhByB;;EAAA,gBAAbK,aAAa;IAAA;EAAA;AAAA,GAAnB"},"metadata":{},"sourceType":"module"}