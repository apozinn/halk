{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Svg, { Path } from \"react-native-svg\";\nimport { Userpic } from \"react-native-userpic\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function StatusAvatar(_ref) {\n  var navigation = _ref.navigation,\n      stts = _ref.stts,\n      stories = _ref.stories;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      pd = _useState2[0],\n      setPd = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      path = _useState4[0],\n      setPath = _useState4[1];\n\n  function myArc(cx, cy, radius, max) {\n    var d = \" M \" + (cx + radius) + \" \" + cy;\n    var ang = 0;\n\n    while (ang <= max) {\n      var radians = ang * (Math.PI / 180);\n      var x = cx + Math.cos(radians) * radius;\n      var y = cy + Math.sin(radians) * radius;\n      d += \" L \" + x + \" \" + y;\n      ang++;\n    }\n\n    setPd(d);\n  }\n\n  function init(_x) {\n    return _init.apply(this, arguments);\n  }\n\n  function _init() {\n    _init = _asyncToGenerator(function* (a) {\n      if (stories.length > 0) {\n        myArc(35, 35, 30, parseInt(360 / stories.length) == 360 ? 360 : parseInt(360 / stories.length) - 8);\n        var arr = [];\n        var rot = 270;\n        yield stories.map(function (i, index) {\n          arr.push(_jsx(View, {\n            style: {\n              position: \"absolute\",\n              rotate: rot + \"deg\"\n            },\n            children: _jsx(Svg, {\n              width: \"60\",\n              height: \"60\",\n              children: _jsx(Path, {\n                d: pd,\n                fill: \"none\",\n                stroke: i[1] == 0 ? \"#007dff\" : \"#b7b7b7\",\n                strokeWidth: 2,\n                transform: {\n                  rotation: rot,\n                  originX: 35,\n                  originY: 35\n                }\n              })\n            })\n          }, index));\n          rot = rot + 360 / stories.length;\n        });\n        setPath(arr);\n      }\n    });\n    return _init.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    init(stories);\n  }, [stories, pd]);\n  return _jsxs(_Fragment, {\n    children: [path, _jsx(Userpic, {\n      size: 40,\n      name: stts.author.profile.name,\n      source: {\n        uri: stts.author.profile.avatar\n      },\n      colorize: true,\n      borderRadius: \"50%\"\n    })]\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","Svg","Path","Userpic","StatusAvatar","navigation","stts","stories","pd","setPd","path","setPath","myArc","cx","cy","radius","max","d","ang","radians","Math","PI","x","cos","y","sin","init","a","length","parseInt","arr","rot","map","i","index","push","position","rotate","rotation","originX","originY","author","profile","name","uri","avatar"],"sources":["/home/samuel/Documentos/projetos/mobile/halk/client/src/components/statusPic.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { View, StyleSheet, Image } from \"react-native\";\nimport Svg, { Path, Rect } from \"react-native-svg\";\nimport { Userpic } from \"react-native-userpic\";\n\nexport default function StatusAvatar({ navigation, stts, stories }) {\n  const [pd, setPd] = useState(\"\");\n  const [path, setPath] = useState([]);\n\n  function myArc(cx, cy, radius, max) {\n    var d = \" M \" + (cx + radius) + \" \" + cy;\n    let ang = 0;\n    while (ang <= max) {\n      var radians = ang * (Math.PI / 180);\n      var x = cx + Math.cos(radians) * radius;\n      var y = cy + Math.sin(radians) * radius;\n      d += \" L \" + x + \" \" + y;\n      ang++;\n    }\n    setPd(d);\n  }\n\n  async function init(a) {\n    if (stories.length > 0) {\n      myArc(\n        35,\n        35,\n        30,\n        parseInt(360 / stories.length) == 360\n          ? 360\n          : parseInt(360 / stories.length) - 8\n      );\n      let arr = [];\n      let rot = 270;\n      await stories.map((i, index) => {\n        arr.push(\n          <View\n            style={{ position: \"absolute\", rotate: `${rot}deg` }}\n            key={index}\n          >\n            <Svg width=\"60\" height=\"60\">\n              <Path\n                d={pd}\n                fill=\"none\"\n                stroke={i[1] == 0 ? \"#007dff\" : \"#b7b7b7\"}\n                strokeWidth={2}\n                transform={{ rotation: rot, originX: 35, originY: 35 }}\n              />\n            </Svg>\n          </View>\n        );\n        rot = rot + 360 / stories.length;\n      });\n      setPath(arr);\n    }\n  }\n\n  useEffect(() => {\n    init(stories);\n  }, [stories, pd]);\n\n  return (\n    <>\n      {path}\n      <Userpic\n        size={40}\n        name={stts.author.profile.name}\n        source={{ uri: stts.author.profile.avatar }}\n        colorize={true}\n        borderRadius=\"50%\"\n      />\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}