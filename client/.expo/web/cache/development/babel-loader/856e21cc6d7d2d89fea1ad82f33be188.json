{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState, useContext, useRef } from \"react\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { AntDesign, Ionicons, Feather, FontAwesome, MaterialIcons, Fontisto } from \"@expo/vector-icons\";\nimport { TextInput, Text } from \"../../src/components/Themed\";\nimport { UserContext } from \"../../src/contexts/user\";\nimport { ChatsContext } from \"../../src/contexts/chats\";\nimport { SocketContext } from \"../../src/contexts/socket\";\nimport Socket from \"../../src/utils/socket\";\nimport { getColors } from \"../../constants/Colors\";\nimport { Cipher, Decipher } from \"../../middleware/crypto\";\nimport { Userpic } from \"react-native-userpic\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar badgeProps = {\n  size: 25,\n  borderRadius: 50,\n  animate: true\n};\nexport default function Chat(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      messages = _useState2[0],\n      setMessages = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      text = _useState4[0],\n      setText = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      chat = _useState6[0],\n      setChat = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      online = _useState8[0],\n      setOnline = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      userTyping = _useState10[0],\n      setUserTyping = _useState10[1];\n\n  var colors = getColors();\n  var scrollViewRef = useRef();\n\n  var _useContext = useContext(ChatsContext),\n      chats = _useContext.chats,\n      updateChats = _useContext.updateChats;\n\n  var _useContext2 = useContext(UserContext),\n      user = _useContext2.user;\n\n  var socket = useContext(SocketContext);\n  useEffect(function () {\n    var chatId = route.params.id;\n\n    if (chatId) {\n      var thisChat = chats.filter(function (c) {\n        return c.id === chatId;\n      })[0];\n\n      if (thisChat) {\n        setChat(thisChat);\n      } else {\n        setChat(new Socket.sendHalkMessage());\n      }\n\n      socket.on(\"receiveMessage\", function (msg) {\n        if (thisChat) {\n          if (thisChat.messages.some(function (m) {\n            return m.id === msg.id;\n          })) return;\n          thisChat.messages.push(msg);\n          updateChats({\n            chats: chats\n          });\n        }\n\n        setMessages(function (oldMessages) {\n          return [].concat(_toConsumableArray(oldMessages), [msg]);\n        });\n      });\n    }\n  }, [user, chats]);\n  useEffect(function () {\n    if (chat && socket) {\n      socket.emit(\"joinRoom\", {\n        room: chat.id,\n        otherUser: chat.user.id\n      });\n      socket.emit(\"verifyIfUserIsOnline\", {\n        userId: chat.user.id\n      });\n      socket.on(\"receiveIfUserIsOnline\", function (callback) {\n        return setOnline(callback);\n      });\n      setMessages(function (oldMessages) {\n        return [].concat(_toConsumableArray(oldMessages), _toConsumableArray(chat.messages));\n      });\n      socket.on(\"readMessage\", function (p) {\n        var thisChat = chats.filter(function (c) {\n          return c.id === p.chat;\n        })[0];\n\n        if (thisChat) {\n          thisChat.messages.filter(function (m) {\n            return !m.read;\n          }).map(function (m) {\n            return m.read = true;\n          });\n          updateChats({\n            chats: chats\n          });\n        }\n      });\n    }\n  }, [chat]);\n  useEffect(function () {\n    if (!socket || !chat) return;\n\n    if (text.length === 0) {\n      socket.emit(\"userTyping\", {\n        room: chat.id,\n        typing: false,\n        userId: user.id\n      });\n    } else {\n      socket.emit(\"userTyping\", {\n        room: chat.id,\n        typing: true,\n        userId: user.id\n      });\n    }\n\n    socket.on(\"userTyping\", function (t) {\n      if (t.userId === user.id) return;\n      setUserTyping(t.typing);\n    });\n  }, [text]);\n\n  function sendMessage() {\n    if (!text) return;\n    var timeNow = new Date().getTime();\n    var message = {\n      chat: {\n        id: chat.id,\n        key: chat.key\n      },\n      author: user,\n      read: false,\n      createdAt: timeNow,\n      content: Cipher(text, chat.key),\n      id: \"\" + timeNow + Math.floor(Math.random() * (100000000 - 1000000 + 1) + 1000000)\n    };\n\n    if (chat.newChat) {\n      socket.emit(\"sendMessage\", {\n        room: chat.id,\n        toUser: chat.user.id,\n        message: message,\n        newChat: true,\n        key: chat.key\n      });\n      var thisChat = chats.filter(function (c) {\n        return c.id === chat.id;\n      })[0];\n      delete thisChat.newChat;\n      updateChats({\n        chats: chats\n      });\n    } else {\n      socket.emit(\"sendMessage\", {\n        room: chat.id,\n        toUser: chat.user.id,\n        message: message\n      });\n    }\n\n    setText(\"\");\n  }\n\n  return _jsx(View, {\n    style: styles.container,\n    children: !chat ? _jsx(_Fragment, {}) : _jsxs(_Fragment, {\n      children: [_jsxs(View, {\n        style: [styles.topContainer, {\n          backgroundColor: colors.defaultColors.card\n        }],\n        children: [_jsxs(View, {\n          style: styles.topContainerLeft,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.button,\n            onPress: function onPress() {\n              return navigation.navigate(\"Root\");\n            },\n            children: _jsx(AntDesign, {\n              name: \"arrowleft\",\n              size: 25,\n              color: colors.tint\n            })\n          }), _jsxs(TouchableOpacity, {\n            onPress: function onPress() {\n              return navigation.navigate(\"Profile\", {\n                id: chat.user.id\n              });\n            },\n            style: styles.userProfile,\n            children: [_jsx(Userpic, {\n              size: 40,\n              name: chat.user.profile.name,\n              source: {\n                uri: chat.user.profile.avatar\n              },\n              colorize: true,\n              borderRadius: \"50%\",\n              badge: true,\n              badgeColor: online ? \"#00ff0d\" : \"#919191\",\n              badgePosition: \"bottom-right\",\n              badgeProps: badgeProps,\n              style: {\n                marginRight: 10\n              }\n            }), _jsxs(View, {\n              style: {\n                alignItems: \"flex-start\"\n              },\n              children: [_jsx(Text, {\n                style: {\n                  fontWeight: \"bold\"\n                },\n                children: chat.user.profile.name\n              }), userTyping ? _jsx(Text, {\n                style: styles.isOnline,\n                children: \"Digitando...\"\n              }) : _jsx(Text, {\n                style: styles.isOnline,\n                children: online ? \"online\" : \"\"\n              })]\n            })]\n          })]\n        }), _jsxs(View, {\n          style: styles.topContainerRight,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.button,\n            onPress: function onPress() {},\n            children: _jsx(Ionicons, {\n              name: \"call\",\n              size: 24,\n              color: colors.tint\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.button,\n            onPress: function onPress() {},\n            children: _jsx(FontAwesome, {\n              name: \"video-camera\",\n              size: 24,\n              color: colors.tint\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.button,\n            onPress: function onPress() {},\n            children: _jsx(Feather, {\n              name: \"more-vertical\",\n              size: 24,\n              color: colors.tint\n            })\n          })]\n        })]\n      }), _jsx(ScrollView, {\n        style: styles.messageContainer,\n        ref: scrollViewRef,\n        onContentSizeChange: function onContentSizeChange() {\n          return scrollViewRef.current.scrollToEnd({\n            animated: true\n          });\n        },\n        showsVerticalScrollIndicator: false,\n        showsHorizontalScrollIndicator: false,\n        children: messages.map(function (message, index) {\n          var _messages, _messages2;\n\n          var itsMyMessage = message.author.id === user.id ? true : false;\n          var content = chat.key ? Decipher(message.content, chat.key) : \"Nova mensagem\";\n          var messageTime = new Date(message.createdAt).toLocaleTimeString();\n          var previousMessageIsMy = ((_messages = messages[index - 1]) == null ? void 0 : _messages.author.id) === message.author.id;\n          var nextMessageIsMy = ((_messages2 = messages[index + 1]) == null ? void 0 : _messages2.author.id) === message.author.id;\n          var borders = {};\n\n          if (itsMyMessage) {\n            borders.borderTopRightRadius = previousMessageIsMy && !nextMessageIsMy ? 5 : 20;\n            borders.borderBottomRightRadius = !previousMessageIsMy && nextMessageIsMy ? 5 : 20;\n\n            if (previousMessageIsMy && nextMessageIsMy) {\n              borders.borderTopRightRadius = 5;\n              borders.borderBottomRightRadius = 5;\n            }\n          } else {\n            borders.borderTopLeftRadius = previousMessageIsMy && !nextMessageIsMy ? 5 : 20;\n            borders.borderBottomLeftRadius = !previousMessageIsMy && nextMessageIsMy ? 5 : 20;\n\n            if (previousMessageIsMy && nextMessageIsMy) {\n              borders.borderTopLeftRadius = 10;\n              borders.borderBottomLeftRadius = 10;\n            }\n          }\n\n          return _jsx(View, {\n            style: [itsMyMessage ? styles.myMessage : styles.otherMessage, index === 0 ? {\n              margintop: 10\n            } : {}],\n            children: _jsxs(View, {\n              style: itsMyMessage ? {\n                maxWidth: \"75%\"\n              } : {},\n              children: [_jsx(Pressable, {\n                style: [styles.message, borders, {\n                  backgroundColor: itsMyMessage ? \"#2f95dc\" : colors.defaultColors.card\n                }],\n                onLongPress: function onLongPress() {},\n                children: _jsx(Text, {\n                  style: {\n                    maxWidth: \"100%\",\n                    color: itsMyMessage ? \"white\" : colors.defaultColors.text\n                  },\n                  children: content\n                })\n              }), _jsx(View, {\n                style: [styles.messageProps, {\n                  justifyContent: itsMyMessage ? \"flex-end\" : \"flex-start\"\n                }],\n                children: nextMessageIsMy ? _jsx(_Fragment, {}) : _jsxs(_Fragment, {\n                  children: [_jsx(Text, {\n                    style: styles.messageCreatedAt,\n                    children: messageTime.slice(0, 5)\n                  }), itsMyMessage ? _jsx(Ionicons, {\n                    name: \"checkmark-done\",\n                    size: 20,\n                    color: message.read ? \"#04f500\" : \"gray\",\n                    style: {\n                      marginRight: 2\n                    }\n                  }) : _jsx(_Fragment, {})]\n                })\n              })]\n            })\n          }, index);\n        })\n      }), _jsxs(View, {\n        style: [styles.bottomContainer, {\n          backgroundColor: colors.defaultColors.card\n        }],\n        children: [_jsxs(View, {\n          style: styles.buttonContentLeft,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.blueButton,\n            onPress: function onPress() {},\n            children: _jsx(Fontisto, {\n              name: \"camera\",\n              size: 20,\n              color: \"white\"\n            })\n          }), _jsx(TextInput, {\n            style: styles.inputMessage,\n            placeholder: \"Mensagem...\",\n            value: text,\n            onChangeText: function onChangeText(value) {\n              return setText(value);\n            },\n            onSubmitEditing: function onSubmitEditing() {\n              return sendMessage();\n            }\n          })]\n        }), text ? _jsx(TouchableOpacity, {\n          style: styles.blueButton,\n          onPress: function onPress() {\n            return sendMessage();\n          },\n          children: _jsx(FontAwesome, {\n            name: \"send\",\n            size: 24,\n            color: \"white\"\n          })\n        }) : _jsxs(View, {\n          style: styles.othersMedias,\n          children: [_jsx(TouchableOpacity, {\n            onPress: function onPress() {},\n            children: _jsx(Ionicons, {\n              name: \"ios-add-circle-outline\",\n              size: 26,\n              color: colors.tint\n            })\n          }), _jsx(TouchableOpacity, {\n            style: {\n              marginLeft: 8\n            },\n            onPress: function onPress() {},\n            children: _jsx(MaterialIcons, {\n              name: \"keyboard-voice\",\n              size: 26,\n              color: colors.tint\n            })\n          })]\n        })]\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight\n  },\n  topContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: 5,\n    justifyContent: \"space-between\"\n  },\n  topContainerLeft: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  topContainerRight: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  messageContainer: {\n    flex: 1,\n    marginHorizontal: 10,\n    flexDirection: \"column-reverse\",\n    marginBottom: 55\n  },\n  bottomContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    position: \"absolute\",\n    backgroundColor: \"rgb(18, 18, 18)\",\n    justifyContent: \"space-between\",\n    borderRadius: 50,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    padding: 5,\n    margin: 5\n  },\n  messageCard: {\n    borderWidth: 1,\n    borderColor: \"#222\"\n  },\n  myMessage: {\n    justifyContent: \"flex-end\",\n    flexDirection: \"revert\"\n  },\n  otherMessage: {\n    width: \"fit-content\",\n    maxWidth: \"75%\"\n  },\n  userIcon: {\n    width: 40,\n    height: 40,\n    borderRadius: 100,\n    marginHorizontal: 5\n  },\n  userProfile: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  button: {\n    padding: 5\n  },\n  blueButton: {\n    backgroundColor: \"#2f95dc\",\n    padding: 8,\n    borderRadius: 100\n  },\n  othersMedias: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  inputMessage: {\n    paddingVertical: 8,\n    width: \"100%\",\n    marginLeft: 10\n  },\n  message: {\n    padding: 7,\n    borderRadius: 20,\n    flexDirection: \"row\",\n    marginBottom: 2,\n    alignItems: \"baseline\",\n    flexWrap: \"wrap\"\n  },\n  messageCreatedAt: {\n    fontSize: 10,\n    marginHorizontal: 5,\n    marginTop: 5\n  },\n  buttonContentLeft: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    width: '80%'\n  },\n  isOnline: {\n    fontSize: 13\n  },\n  messageProps: {\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","useContext","useRef","AntDesign","Ionicons","Feather","FontAwesome","MaterialIcons","Fontisto","TextInput","Text","UserContext","ChatsContext","SocketContext","Socket","getColors","Cipher","Decipher","Userpic","badgeProps","size","borderRadius","animate","Chat","navigation","route","messages","setMessages","text","setText","chat","setChat","online","setOnline","userTyping","setUserTyping","colors","scrollViewRef","chats","updateChats","user","socket","chatId","params","id","thisChat","filter","c","sendHalkMessage","on","msg","some","m","push","oldMessages","emit","room","otherUser","userId","callback","p","read","map","length","typing","t","sendMessage","timeNow","Date","getTime","message","key","author","createdAt","content","Math","floor","random","newChat","toUser","styles","container","topContainer","backgroundColor","defaultColors","card","topContainerLeft","button","navigate","tint","userProfile","profile","name","uri","avatar","marginRight","alignItems","fontWeight","isOnline","topContainerRight","messageContainer","current","scrollToEnd","animated","index","itsMyMessage","messageTime","toLocaleTimeString","previousMessageIsMy","nextMessageIsMy","borders","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","myMessage","otherMessage","margintop","maxWidth","color","messageProps","justifyContent","messageCreatedAt","slice","bottomContainer","buttonContentLeft","blueButton","inputMessage","value","othersMedias","marginLeft","StyleSheet","create","flex","marginTop","StatusBar","currentHeight","flexDirection","padding","marginHorizontal","marginBottom","position","bottom","left","right","margin","messageCard","borderWidth","borderColor","width","userIcon","height","paddingVertical","flexWrap","fontSize"],"sources":["/home/samuel/Documentos/projetos/mobile/halk/client/screens/chat/chat.tsx"],"sourcesContent":["import React, { useEffect, useState, useContext, useRef } from \"react\";\nimport {\n  Button,\n  StatusBar,\n  StyleSheet,\n  View,\n  Image,\n  Pressable,\n  ScrollView,\n  TouchableOpacity,\n} from \"react-native\";\nimport {\n  AntDesign,\n  Ionicons,\n  Feather,\n  FontAwesome,\n  MaterialIcons,\n  Fontisto,\n} from \"@expo/vector-icons\";\nimport { RootStackScreenProps } from \"../../types\";\nimport { TextInput, Text } from \"../../src/components/Themed\";\nimport { UserContext } from \"../../src/contexts/user\";\nimport { ChatsContext } from \"../../src/contexts/chats\";\nimport { SocketContext } from \"../../src/contexts/socket\";\nimport Socket, { CreateSocketConnection } from \"../../src/utils/socket\";\nimport { getColors } from \"../../constants/Colors\";\nimport { Cipher, Decipher } from \"../../middleware/crypto\";\nimport { Userpic } from \"react-native-userpic\";\n\nconst badgeProps = {\n  size: 25,\n  borderRadius: 50,\n  animate: true,\n};\n\nexport default function Chat({\n  navigation,\n  route,\n}: RootStackScreenProps<\"Chat\">) {\n  const [messages, setMessages] = useState([]);\n  const [text, setText] = useState(\"\");\n  const [chat, setChat] = useState();\n  const [online, setOnline] = useState(false);\n  const [userTyping, setUserTyping] = useState(false);\n\n  const colors = getColors();\n  const scrollViewRef = useRef();\n\n  const { chats, updateChats } = useContext(ChatsContext);\n  const { user } = useContext(UserContext);\n  const socket = useContext(SocketContext);\n\n  useEffect(() => {\n    const chatId = route.params.id;\n    if (chatId) {\n      const thisChat = chats.filter((c) => c.id === chatId)[0];\n\n      if (thisChat) {\n        setChat(thisChat);\n      } else {\n        setChat(new Socket.sendHalkMessage());\n      }\n\n      socket.on(\"receiveMessage\", (msg) => {\n        if (thisChat) {\n          if (thisChat.messages.some((m) => m.id === msg.id)) return;\n          thisChat.messages.push(msg);\n          updateChats({ chats });\n        }\n\n        setMessages((oldMessages) => [...oldMessages, msg]);\n      });\n    }\n  }, [user, chats]);\n\n  useEffect(() => {\n    if (chat && socket) {\n      socket.emit(\"joinRoom\", { room: chat.id, otherUser: chat.user.id });\n      socket.emit(\"verifyIfUserIsOnline\", { userId: chat.user.id });\n      socket.on(\"receiveIfUserIsOnline\", (callback) => setOnline(callback));\n      setMessages((oldMessages) => [...oldMessages, ...chat.messages]);\n      socket.on(\"readMessage\", (p) => {\n        const thisChat = chats.filter((c) => c.id === p.chat)[0];\n        if (thisChat) {\n          thisChat.messages.filter((m) => !m.read).map((m) => (m.read = true));\n          updateChats({ chats });\n        }\n      });\n    }\n  }, [chat]);\n\n  useEffect(() => {\n    if (!socket || !chat) return;\n\n    if (text.length === 0) {\n      socket.emit(\"userTyping\", {\n        room: chat.id,\n        typing: false,\n        userId: user.id,\n      });\n    } else {\n      socket.emit(\"userTyping\", {\n        room: chat.id,\n        typing: true,\n        userId: user.id,\n      });\n    }\n\n    socket.on(\"userTyping\", (t) => {\n      if (t.userId === user.id) return;\n      setUserTyping(t.typing);\n    });\n  }, [text]);\n\n  function sendMessage() {\n    if (!text) return;\n    const timeNow = new Date().getTime();\n    const message = {\n      chat: {\n        id: chat.id,\n        key: chat.key,\n      },\n      author: user,\n      read: false,\n      createdAt: timeNow,\n      content: Cipher(text, chat.key),\n      id: `${timeNow}${Math.floor(\n        Math.random() * (100000000 - 1000000 + 1) + 1000000\n      )}`,\n    };\n\n    if (chat.newChat) {\n      socket.emit(\"sendMessage\", {\n        room: chat.id,\n        toUser: chat.user.id,\n        message,\n        newChat: true,\n        key: chat.key,\n      });\n      const thisChat = chats.filter((c) => c.id === chat.id)[0];\n      delete thisChat.newChat;\n      updateChats({ chats });\n    } else {\n      socket.emit(\"sendMessage\", {\n        room: chat.id,\n        toUser: chat.user.id,\n        message,\n      });\n    }\n\n    setText(\"\");\n  }\n\n  return (\n    <View style={styles.container}>\n      {!chat ? (\n        <></>\n      ) : (\n        <>\n          <View\n            style={[\n              styles.topContainer,\n              { backgroundColor: colors.defaultColors.card },\n            ]}\n          >\n            <View style={styles.topContainerLeft}>\n              <TouchableOpacity\n                style={styles.button}\n                onPress={() => navigation.navigate(\"Root\")}\n              >\n                <AntDesign name=\"arrowleft\" size={25} color={colors.tint} />\n              </TouchableOpacity>\n\n              <TouchableOpacity\n                onPress={() =>\n                  navigation.navigate(\"Profile\", {\n                    id: chat.user.id,\n                  })\n                }\n                style={styles.userProfile}\n              >\n                <Userpic\n                  size={40}\n                  name={chat.user.profile.name}\n                  source={{ uri: chat.user.profile.avatar }}\n                  colorize={true}\n                  borderRadius=\"50%\"\n                  badge={true}\n                  badgeColor={online ? \"#00ff0d\" : \"#919191\"}\n                  badgePosition={\"bottom-right\"}\n                  badgeProps={badgeProps}\n                  style={{ marginRight: 10 }}\n                />\n                <View style={{ alignItems: \"flex-start\" }}>\n                  <Text style={{ fontWeight: \"bold\" }}>\n                    {chat.user.profile.name}\n                  </Text>\n                  {userTyping ? (\n                    <Text style={styles.isOnline}>Digitando...</Text>\n                  ) : (\n                    <Text style={styles.isOnline}>\n                      {online ? \"online\" : \"\"}\n                    </Text>\n                  )}\n                </View>\n              </TouchableOpacity>\n            </View>\n\n            <View style={styles.topContainerRight}>\n              <TouchableOpacity style={styles.button} onPress={() => {}}>\n                <Ionicons name=\"call\" size={24} color={colors.tint} />\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.button} onPress={() => {}}>\n                <FontAwesome\n                  name=\"video-camera\"\n                  size={24}\n                  color={colors.tint}\n                />\n              </TouchableOpacity>\n              <TouchableOpacity style={styles.button} onPress={() => {}}>\n                <Feather name=\"more-vertical\" size={24} color={colors.tint} />\n              </TouchableOpacity>\n            </View>\n          </View>\n\n          <ScrollView\n            style={styles.messageContainer}\n            ref={scrollViewRef}\n            onContentSizeChange={() =>\n              scrollViewRef.current.scrollToEnd({ animated: true })\n            }\n            showsVerticalScrollIndicator={false}\n            showsHorizontalScrollIndicator={false}\n          >\n            {messages.map((message, index) => {\n              const itsMyMessage = message.author.id === user.id ? true : false;\n              let content = chat.key\n                ? Decipher(message.content, chat.key)\n                : \"Nova mensagem\";\n              const messageTime = new Date(\n                message.createdAt\n              ).toLocaleTimeString();\n\n              let previousMessageIsMy =\n                messages[index - 1]?.author.id === message.author.id;\n              let nextMessageIsMy =\n                messages[index + 1]?.author.id === message.author.id;\n\n              let borders = {};\n\n              if (itsMyMessage) {\n                borders.borderTopRightRadius =\n                  previousMessageIsMy && !nextMessageIsMy ? 5 : 20;\n                borders.borderBottomRightRadius =\n                  !previousMessageIsMy && nextMessageIsMy ? 5 : 20;\n\n                if (previousMessageIsMy && nextMessageIsMy) {\n                  borders.borderTopRightRadius = 5;\n                  borders.borderBottomRightRadius = 5;\n                }\n              } else {\n                borders.borderTopLeftRadius =\n                  previousMessageIsMy && !nextMessageIsMy ? 5 : 20;\n                borders.borderBottomLeftRadius =\n                  !previousMessageIsMy && nextMessageIsMy ? 5 : 20;\n\n                if (previousMessageIsMy && nextMessageIsMy) {\n                  borders.borderTopLeftRadius = 10;\n                  borders.borderBottomLeftRadius = 10;\n                }\n              }\n\n              return (\n                <View\n                  style={[\n                    itsMyMessage ? styles.myMessage : styles.otherMessage,\n                    index === 0 ? { margintop: 10 } : {},\n                  ]}\n                  key={index}\n                >\n                  <View style={itsMyMessage ? { maxWidth: \"75%\" } : {}}>\n                    <Pressable\n                      style={[\n                        styles.message,\n                        borders,\n                        {\n                          backgroundColor: itsMyMessage\n                            ? \"#2f95dc\"\n                            : colors.defaultColors.card,\n                        },\n                      ]}\n                      onLongPress={() => {}}\n                    >\n                      <Text\n                        style={{\n                          maxWidth: \"100%\",\n                          color: itsMyMessage\n                            ? \"white\"\n                            : colors.defaultColors.text,\n                        }}\n                      >\n                        {content}\n                      </Text>\n                    </Pressable>\n                    <View\n                      style={[\n                        styles.messageProps,\n                        {\n                          justifyContent: itsMyMessage\n                            ? \"flex-end\"\n                            : \"flex-start\",\n                        },\n                      ]}\n                    >\n                      {nextMessageIsMy ? (\n                        <></>\n                      ) : (\n                        <>\n                          <Text style={styles.messageCreatedAt}>\n                            {messageTime.slice(0, 5)}\n                          </Text>\n                          {itsMyMessage ? (\n                            <Ionicons\n                              name=\"checkmark-done\"\n                              size={20}\n                              color={message.read ? \"#04f500\" : \"gray\"}\n                              style={{ marginRight: 2 }}\n                            />\n                          ) : (\n                            <></>\n                          )}\n                        </>\n                      )}\n                    </View>\n                  </View>\n                </View>\n              );\n            })}\n          </ScrollView>\n\n          <View\n            style={[\n              styles.bottomContainer,\n              { backgroundColor: colors.defaultColors.card },\n            ]}\n          >\n            <View style={styles.buttonContentLeft}>\n              <TouchableOpacity style={styles.blueButton} onPress={() => {}}>\n                <Fontisto name=\"camera\" size={20} color=\"white\" />\n              </TouchableOpacity>\n              <TextInput\n                style={styles.inputMessage}\n                placeholder=\"Mensagem...\"\n                value={text}\n                onChangeText={(value) => setText(value)}\n                onSubmitEditing={() => sendMessage()}\n              />\n            </View>\n\n            {text ? (\n              <TouchableOpacity\n                style={styles.blueButton}\n                onPress={() => sendMessage()}\n              >\n                <FontAwesome name=\"send\" size={24} color=\"white\" />\n              </TouchableOpacity>\n            ) : (\n              <View style={styles.othersMedias}>\n                <TouchableOpacity onPress={() => {}}>\n                  <Ionicons\n                    name=\"ios-add-circle-outline\"\n                    size={26}\n                    color={colors.tint}\n                  />\n                </TouchableOpacity>\n                <TouchableOpacity style={{ marginLeft: 8 }} onPress={() => {}}>\n                  <MaterialIcons\n                    name=\"keyboard-voice\"\n                    size={26}\n                    color={colors.tint}\n                  />\n                </TouchableOpacity>\n              </View>\n            )}\n          </View>\n        </>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight,\n  },\n  topContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    padding: 5,\n    justifyContent: \"space-between\",\n  },\n  topContainerLeft: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  topContainerRight: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  messageContainer: {\n    flex: 1,\n    marginHorizontal: 10,\n    flexDirection: \"column-reverse\",\n    marginBottom: 55,\n  },\n  bottomContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    position: \"absolute\",\n    backgroundColor: \"rgb(18, 18, 18)\",\n    justifyContent: \"space-between\",\n    borderRadius: 50,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    padding: 5,\n    margin: 5,\n  },\n  messageCard: {\n    borderWidth: 1,\n    borderColor: \"#222\",\n  },\n  myMessage: {\n    justifyContent: \"flex-end\",\n    flexDirection: \"revert\",\n  },\n  otherMessage: {\n    width: \"fit-content\",\n    maxWidth: \"75%\",\n  },\n  userIcon: {\n    width: 40,\n    height: 40,\n    borderRadius: 100,\n    marginHorizontal: 5,\n  },\n  userProfile: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  button: {\n    padding: 5,\n  },\n  blueButton: {\n    backgroundColor: \"#2f95dc\",\n    padding: 8,\n    borderRadius: 100,\n  },\n  othersMedias: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  inputMessage: {\n    paddingVertical: 8,\n    width: \"100%\",\n    marginLeft: 10,\n  },\n  message: {\n    padding: 7,\n    borderRadius: 20,\n    flexDirection: \"row\",\n    marginBottom: 2,\n    alignItems: \"baseline\",\n    flexWrap: \"wrap\",\n  },\n  messageCreatedAt: {\n    fontSize: 10,\n    marginHorizontal: 5,\n    marginTop: 5,\n  },\n  buttonContentLeft: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    width: '80%',\n  },\n  isOnline: {\n    fontSize: 13,\n  },\n  messageProps: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}